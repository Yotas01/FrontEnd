<div *ngIf="outcomeReport">
<h2>Report for Outcome - {{ id }}</h2>
<h2>CDIO's that report to this outcome</h2>
<table mat-table [dataSource]="outcomeCDIOData" class="mat-elevation-z9">
    <ng-container matColumnDef="cdioNumber">
        <th mat-header-cell *matHeaderCellDef>CDIO number</th>
        <td mat-cell *matCellDef="let cdio">{{cdio.cdioNumber}}</td>
    </ng-container>
    <ng-container matColumnDef="exemplary">
        <th mat-header-cell *matHeaderCellDef>Exemplary</th>
        <td mat-cell *matCellDef="let cdio">{{cdio.exemplary}}%</td>
    </ng-container>
    <ng-container matColumnDef="competent">
        <th mat-header-cell *matHeaderCellDef>Competent</th>
        <td mat-cell *matCellDef="let cdio">{{cdio.competent}}%</td>
    </ng-container>
    <ng-container matColumnDef="below">
        <th mat-header-cell *matHeaderCellDef>Below</th>
        <td mat-cell *matCellDef="let cdio">{{cdio.below}}%</td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumnsCDIOSummary"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsCDIOSummary;"></tr>
</table>

<h2>Summary for this Outcome</h2>
<table mat-table [dataSource]="outcomeSummaryData" class="mat-elevation-z9">
    <ng-container matColumnDef="Exemplary">
        <th mat-header-cell *matHeaderCellDef>Exemplary</th>
        <td mat-cell *matCellDef="let outcome">{{outcome.exemplary}}%</td>
        <td mat-footer-cell *matFooterCellDef>{{getCumulative(1)}}%</td>
    </ng-container>
    <ng-container matColumnDef="Competent">
        <th mat-header-cell *matHeaderCellDef>Competent</th>
        <td mat-cell *matCellDef="let outcome">{{outcome.competent}}%</td>
        <td mat-footer-cell *matFooterCellDef>{{getCumulative(2)}}%</td>
    </ng-container>
    <ng-container matColumnDef="Below">
        <th mat-header-cell *matHeaderCellDef>Below</th>
        <td mat-cell *matCellDef="let outcome">{{outcome.below}}%</td>
        <td mat-footer-cell *matFooterCellDef>{{getCumulative(3)}}%</td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumnsSummary"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsSummary;"></tr>
</table>
<br>

<div class="centered">
    <mat-form-field class="full-width" appearance="fill">
        <mat-label>Write a summary for the performance of this semester</mat-label>
        <textarea [(ngModel)]="semesterReport.performance" matInput placeholder="Ex. This semester was good because ..."
        matInput
        cdkTextareaAutosize
        cdkAutosizeMinRows="5"
        cdkAutosizeMaxRows="20"></textarea>
    </mat-form-field>
    <mat-form-field class="full-width" appearance="fill">
        <mat-label>Write the improvements that need to be made</mat-label>
        <textarea [(ngModel)]="semesterReport.improvementActions" matInput placeholder="Ex. Next semester will be better because ..."
        matInput
        cdkTextareaAutosize
        cdkAutosizeMinRows="5"
        cdkAutosizeMaxRows="20"></textarea>
    </mat-form-field>
    <button mat-raised-button color="primary" (click)="saveSemesterReport()">Save report</button>
</div>

<button><a routerLink="/admin" routerLinkActive="active">Regresar</a></button>
</div>
